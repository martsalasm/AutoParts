<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <title>Panel de Cliente</title>
  <link rel="stylesheet" href="../../style.css" />
  <link rel="stylesheet" href="clienteStyle.css" />
  <link rel="icon" href="/media/favicon.ico" type="image/x-icon" />
</head>

<body>
  <header>
    <h1 id="title">
      <img src="/media/logoautoparts.png" alt="Logo AutoParts" />
    </h1>
    <nav>
      <ul>
        <li><a href="../../index.html">Inicio</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <section class="client-panel">
      <h2 class="client-heading" id="welcome-heading">Bienvenido a tu Panel</h2>
      <p>Desde aquí puedes ver tus ordenes. <br><br> Además, tu descuento de mayorista se encuentra activo.</p>
      
      <div class="client-actions">
        <a href="gestionOrdenes.html" class="action-btn view-orders-btn">
          Ver mis Órdenes
        </a>
        <a href="../login.html" id="logout-button" class="action-btn logout-btn">
          Cerrar Sesión
        </a>
      </div>
    </section>
  </main>

  <footer>
    </footer>

  <script>
    document.getElementById("logout-button").addEventListener("click", function () {
      localStorage.removeItem("token");
      localStorage.removeItem("tipo");
      localStorage.removeItem("tipo_cliente");
      localStorage.removeItem("rol");
      // Es buena práctica limpiar también el nombre y apellido al cerrar sesión
      localStorage.removeItem("nombre");
      localStorage.removeItem("apellido");
    });
  </script>

  <script>
    // Se ejecuta cuando el contenido de la página ha cargado
    document.addEventListener("DOMContentLoaded", function() {
      // Obtenemos el nombre y apellido desde el localStorage
      const nombre = localStorage.getItem("nombre");
      const apellido = localStorage.getItem("apellido");

      // Buscamos el elemento del encabezado por su ID
      const welcomeHeading = document.getElementById("welcome-heading");

      // Si encontramos nombre, apellido y el elemento, actualizamos el texto
      if (nombre && apellido && welcomeHeading) {
        welcomeHeading.textContent = `Bienvenido, ${nombre} ${apellido}`;
      }
    });
  </script>

</body>

</html>